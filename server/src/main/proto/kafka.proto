syntax = "proto3";

package io.github.unknowntpo.server;

option java_multiple_files = true;
option java_package = "io.github.unknowntpo.server.grpc";
option java_outer_classname = "KafkaProto";

// Kafka broker service
service KafkaBrokerService {
  // Producer sends a record to a topic
  rpc Producer(ProducerRequest) returns (ProducerResponse);
}

// Request to produce a record
message ProducerRequest {
  string topic_name = 1;
  Record record = 2;
}

// Response from producing a record
message ProducerResponse {
  bool success = 1;
  string message = 2;
}

// Record representation
message Record {
  string key = 1;
  string value = 2;
  int64 timestamp = 3;
}